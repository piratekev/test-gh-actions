name: Manually triggered workflow
on:
  push:
    branches:
      - 'release-*'
    tags:
      - '*'


jobs:
  check:
      runs-on: ubuntu-latest
      outputs:
        branch: ${{ steps.check_step.outputs.branch }}
      steps:
        - name: Checkout
          uses: actions/checkout@v2
          with:
            fetch-depth: 0

        - name: Get current branch
          id: check_step
          run: |
            raw=$(git branch -r --contains ${{ github.ref }})
            branch=${raw##*/}
            echo "::set-output name=branch::$branch"
            echo "Branch is $branch."
  log-github-info:
    runs-on: ubuntu-latest
    steps:
      - run: echo ${{ github.ref }} ${{ github.ref_name }}
